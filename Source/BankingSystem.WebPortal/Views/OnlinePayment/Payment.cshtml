@using System.Web.Optimization
@model BankingSystem.WebPortal.Models.OnlinePaymentViewModel

@{
    Layout = null;
}
<!DOCTYPE html>

<html>
<head>
    <title>Online Payment</title>
    <link rel="stylesheet" href="~/Content/bootstrap.css"/>
</head>
<body>
    <div class="container body-content">
        <div class="panel panel-success" style="max-width: 600px; margin: 50px auto;">
            <div class="panel-heading">
                Please enter your credit card details and click Submit Payment.<br />
                <br />
                Once your payment is submitted, please do not use the browser back button or press refresh.
                Doing so may result in your card being charged more than once.
            </div>
            <div class="panel-body">
                @using (Html.BeginForm())
                {
                    @Html.AntiForgeryToken()

                    @Html.HiddenFor(x => x.MerchantId)
                    @Html.HiddenFor(x => x.RedirectUrl)
                    @Html.HiddenFor(x => x.Amount)
                    @Html.HiddenFor(x => x.Currency)

                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="col-sm-4">Payment amount:</label>
                            <div class="col-sm-8">
                                <input type="text" disabled value="@Model.Amount.ToString("N2") @Model.Currency" class="form-control"/>
                                @Html.ValidationMessageFor(x => x.Amount)
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-4">Cardholder name:</label>
                            <div class="col-sm-8">
                                @Html.TextBoxFor(x => x.CardHolderName, new {@class = "form-control", maxlength="40"})
                                @Html.ValidationMessageFor(x => x.CardHolderName)
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-4">Card number:</label>
                            <div class="col-sm-8">
                                @Html.TextBoxFor(x => x.CardNumber, new {@class = "form-control", maxlength="16"})
                                @Html.ValidationMessageFor(x => x.CardNumber)
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-4">Expiration date:</label>
                            <div class="col-sm-8">
                                <div style="max-width: 80px; display: inline-block;">
                                    @Html.DropDownListFor(x => x.MonthExpired, new SelectList(Model.Months), new {@class = "form-control"})
                                    @Html.ValidationMessageFor(x => x.MonthExpired)
                                </div>
                                <div style="max-width: 80px; display: inline-block; margin-left: 20px;">
                                    @Html.DropDownListFor(x => x.YearExpired, new SelectList(Model.Years), new {@class = "form-control"})
                                    @Html.ValidationMessageFor(x => x.YearExpired)
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-4">Security code:</label>
                            <div class="col-sm-8">
                                @Html.TextBoxFor(x => x.SecurityCode, new {@class = "form-control", maxlength = "3", style="max-width: 60px;", pattern="\\d*"})
                                @Html.ValidationMessageFor(x => x.SecurityCode)
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-8 col-sm-offset-4">
                                <button class="btn btn-primary btn-lg">Submit Payment</button>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</body>
</html>